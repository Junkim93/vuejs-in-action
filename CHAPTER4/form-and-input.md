# 4장 폼과 입력

## 핵심 내용

- DOM에 값 바인딩
- 텍스트 바인딩 사용
- 수식어

## 바인딩부터 살펴보자

### v-model이 존재하는 이유

- v-model

  - 양방향 데이터 바인딩
    - 뷰 -> 모델 / 모델 -> 뷰 (이것이 양방향)
  - v-model, v-bind, v-on
    - v-model: 주로 form 입력과 input 입력에 사용
    - v-bind: HTML 태그 속성에 사용 (img, src 등)
    - v-on: 이벤트 트리거에 연결, 메서드 바인딩

- 단방향 데이터 바인딩은 입력 내용이 바뀌어서 가지고 있는 데이터가 모델에서 뷰로 동기화되지 않았을때 일어난다
- 모델 혹은 뷰에서 값을 변경하는 경우

- 양방향과 단방향의 차이점, 그리고 갑자기 헷갈리는 반응성 개념
  - 양방향 -> 뷰를 변화시켜 모델을 업데이트 할 수 있고, 모델을 변화시켜 뷰를 업데이트 할 수도 있다.
  - 단방향 -> 오직 모델을 변화시켜서 뷰를 업데이트 한다.
  - 반응성 -> 뷰가 고정되어 있지 않고, 바인딩된 데이터의 변화에 따라 업데이트 된다.

책 예제는 아래와 같이 변경해야 맞다.

```html
<input v-model="something" />

<input v-bind:"something" v-on:input="something=$event.target">
<input v-bind:value="something" v-on:input="something=$event.target.value" />
```

**\*특이점: 객체 안의 프로퍼티를 명시하지 않아도, 빈 order 객체를 사용할 수 있다. 암묵적으로 해당 속성을 추가한다**

### 값 바인딩을 하드코딩 없이 하기

- 셀렉트의 옵션 값을 직접 작성하지 않고, 자동으로 렌더하도록 바꿔보자
- v-bind 지시자를 이용해서 체크 박스를 업데이트 한다

## 값 바인딩 살펴보기

- 체크 박스, 라디오 버튼, 셀렉트 드롭다운에 어떻게 값을 바인딩 할까
- 데이터 객체에서 가져온 속성을 이용해서 위에 나온 예시의 폼을 작성해보자
- 이를 위해 v-bind를 사용할 예정이다

### 체크 박스에 값 바인딩

- 주문 상품이 선물로 배송되는지에 대한 메시지를 확인하고 싶을 것

### v-bind

- HTML 요소의 속성에 값을 바인딩 한다.
- true-value 속성은 v-bind 지시자에만 적용
  - 체크 박스의 체크 여부에 따라 속성을 참 혹은 거짓 값으로 바인딩
  - true-value와 false-value 두 가지 속성

### 값 바인딩과 라디오 버튼 작업

- '자택' 라디오 버튼 선택하면 사용자에게 '자택 주소' 표시
- '직장' 라디오 버튼 선택하면 사용자에게 '직장 주소' 표시
- 위에 처럼 그냥 v-bind를 이용하면 된다

### v-for 지시자 알아보기

- 현재 셀렉트 박스는 사용자가 선택할 수 있는 주를 나열한다.
- 주 값을 똑똑하게 바인딩 해보자
- v-for는 value를 순회한다. 객체의 경우 index는 객체의 key 값이 된다.

  - 배열의 인덱스든 객체의 키든 value 접근을 위한 데이터가 되니까 비슷하게 생각하면 될 것 같다.

- Vue.js에서 this.\$el을 쓰는 것을 고려해보자
  - 인스턴스 내부의 \$el을 사용할 수 있다
  - Vue 인스턴스가 관리하는 루트 DOM 요소이다
  - DOM을 조작해야 할 때는 가능하면 Vue.js 지시자를 사용하자
  - [DOM 접근에 대한 좋은 글](https://stackoverflow.com/questions/55218597/is-it-good-to-access-dom-in-vue-js)
    - Vue가 다루는 subtree를 바꾸려고 한다면 안하는 게 좋다. 반응성 프로퍼티나 조건 렌더링, 컴포넌트 등을 활용해야 한다. DOM에 접근하는 것을 원한다면 refs 속성을 사용하면 된다
    - Vue의 영역 밖에 있는 DOM의 일부를 수정하고 싶다면, 건드려도 된다

## 수식어

- 바인딩 할 때 원하는 값으로 더 쉽게 변환할 수 있다

### number 수식어

- v-model 지시자 값을 숫자 타입으로 변환해준다
  - use case: 우편번호
- number 지시자는 앞에 있는 0을 모두 없앤다

### trim 수식어

- trim: 입력값을 다듬는 용도2
  - 입력에서 자동으로 공백을 없애준다
  - 문자와 문자 사이의 공백을 없애주는 건 아니고, 앞이나 뒤에 있는 공백을 없애준다.

### lazy 수식어

- v-model 지시자는 각 입력 이벤트 이후에 동기화 함
- input text라고 가정하면, 키 입력마다 동기화 하는 것
- lazy는 oh change 이벤트에 동기화
  - change 이벤트는 폼 요소의 사용 방식에 따라 다르게 일어남
